(()=>{"use strict";var t={n:e=>{var n=e&&e.__esModule?()=>e.default:()=>e;return t.d(n,{a:n}),n},d:(e,n)=>{for(var o in n)t.o(n,o)&&!t.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:n[o]})},o:(t,e)=>Object.prototype.hasOwnProperty.call(t,e)};const e=Vue;var n=t.n(e);function o(t,e){this.tbtRouter({suppVer:"7.5.0",path:"/company/detail/act",query:{companyId:t.cid},errCb:e})}function r(t,e){this.tbtRouter({suppVer:"7.13.0",path:"/ucenter/homePage",query:{target_uid:t.uid},errCb:e})}function i(t){this.judgeVersion("7.13.0")&&this.bridge.postMessage({apiVer:"7.13.0",data:{channel:t.channel},name:"biz.login",callback:t.callback})}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function c(t,e,n){return e&&s(t.prototype,e),n&&s(t,n),t}function u(){return(u=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t}).apply(this,arguments)}function p(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if(!(Symbol.iterator in Object(t))&&"[object Arguments]"!==Object.prototype.toString.call(t))return;var n=[],o=!0,r=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(o=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);o=!0);}catch(t){r=!0,i=t}finally{try{o||null==s.return||s.return()}finally{if(r)throw i}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var l=function(){function t(e){a(this,t),this.appVer=e.version,this.appOs=e.os,this.methodSet=new Set}return c(t,[{key:"judgeVersion",value:function(t){var e=t.split(".").map((function(t){return parseInt(t)})),n=this.appVer.split(".").map((function(t){return parseInt(t)})),o=!1;return(n[0]>e[0]||n[0]===e[0]&&(n[1]>e[1]||n[1]===e[1]&&n[2]>=e[2]))&&(o=!0),o}},{key:"postMessage",value:function(t){var e=t.apiVer,n=t.data,o=void 0===n?{}:n,r=t.name,i=t.callback,a=t.errCb,s=void 0===a?function(t){return console.log(t)}:a;if(this.judgeVersion(e)){for(var c=parseInt(1e8*Math.random());this.methodSet.has(c);)c=parseInt(1e8*Math.random());this.methodSet.add(c);var u,p,l,d={data:o,name:r};i&&(d.callback=(u=c,p=i,l=s,window["method".concat(u)]=function(t){var e=t;try{e=JSON.parse(t)}catch(t){console.log(t)}200===e.status?p(e.data):l(e)},"method".concat(u)));try{"android"===this.appOs&&window.T8TJSbridge?T8TJSbridge.postMessage(JSON.stringify(d)):"ios"===this.appOs&&window.webkit&&window.webkit.messageHandlers.T8TJSbridge.postMessage(d)}catch(t){console.log(t)}}}}]),t}();function d(t){for(var e=[],n=Object.keys(t),o=0;o<n.length;o++)e.push([n[o],t[n[o]]]);return e}function f(t){var e="";try{e=decodeURIComponent(t)}catch(n){e=t}return e}var h=new(function(){function t(){var e=this;a(this,t),this.npmver="1.2.12",u(this,function(){var t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.location.href).split("?")[1]||"",e=t.substr(0).split("&"),n={};if(t.length>0&&e.length>0)for(var o=0;o<e.length;o++){var r=e[o].split("="),i=r[0],a=f(r[1]).split("#")[0];n[i]=a}return n}()),this.isApp=parseInt(this.appostype)>0,this.appOSType=this._getAppOS(),this.appver=this._getAppVersion(),this.isLogin=Boolean(this.to8to_token),this.bridge=new l({version:this.appver,os:this.appOSType}),this.fnIsLogin=function(){return new Promise((function(t,n){e.bridge.postMessage({apiVer:"7.12.0",name:"biz.getUserInfo",callback:function(n){n.token?(e.syncLogin(n),t(!0)):t(!1)}})}))},this.noop=function(){}}return c(t,[{key:"syncLogin",value:function(t){this.isLogin=!0,this.to8to_token=t.token,this.uid=t.uid}},{key:"appExec",value:function(t,e){"android"===this.appOSType&&"undefined"!=typeof android?android.androidFun(JSON.stringify(t)):"ios"===this.appOSType&&(e?this.iosRequest("to8to://mobileapi.to8to.com/index.php?".concat(JSON.stringify(t))):window.location.href="to8to://mobileapi.to8to.com/index.php?".concat(JSON.stringify(t)))}},{key:"judgeVersion",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return console.log(t)},n=t.split(".").map((function(t){return parseInt(t)})),o=this.appver.split(".").map((function(t){return parseInt(t)})),r=!1;return(o[0]>n[0]||o[0]===n[0]&&(o[1]>n[1]||o[1]===n[1]&&o[2]>=n[2]))&&(r=!0),r||e(),r}},{key:"appOpenView",value:function(t,e){this.tbtRouter({suppVer:"7.5.0",path:"/common/webview",query:{url:encodeURIComponent(t)},errCb:e})}},{key:"iosRequest",value:function(t){var e=document.createElement("iframe");e.setAttribute("src",t),e.style.display="none",document.body.appendChild(e),setTimeout((function(){document.body.removeChild(e)}),0)}},{key:"tbtRouter",value:function(t){for(var e=t.suppVer,n=t.path,o=t.errCb,r=t.query,i=[],a=0,s=d(void 0===r?{}:r);a<s.length;a++){var c=p(s[a],2),u=c[0],l=c[1];i.push("".concat(u,"=").concat(l))}var f="to8to://tbtrouter".concat(n,"?").concat(i.join("&"));this.judgeVersion(e,o)&&this.iosRequest(f)}},{key:"use",value:function(t){for(var e=0,n=d(t);e<n.length;e++){var o=p(n[e],2),r=o[0],i=o[1];this._def(r,i)}}},{key:"_getAppVersion",value:function(){try{var t=this.appversion;return/^\d+\.\d+\.\d+$/.test(t)?t:"0.0.0"}catch(t){return console.log(t),"0.0.0"}}},{key:"_getAppOS",value:function(){return["","android","ios"][parseInt(this.appostype)||0]}},{key:"_def",value:function(t,e){Object.defineProperty(this,t,{value:e,enumerable:!0,writable:!1,configurable:!0})}}]),t}());h.use({commonLogin:i,goCompDetail:o,appGoUserPage:r});const g=function(t,e,n,o,r,i,a,s){var c,u="function"==typeof t?t.options:t;if(e&&(u.render=e,u.staticRenderFns=n,u._compiled=!0),o&&(u.functional=!0),i&&(u._scopeId="data-v-"+i),a?(c=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),r&&r.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(a)},u._ssrRegister=c):r&&(c=s?function(){r.call(this,(u.functional?this.parent:this).$root.$options.shadowRoot)}:r),c)if(u.functional){u._injectStyles=c;var p=u.render;u.render=function(t,e){return c.call(e),p(t,e)}}else{var l=u.beforeCreate;u.beforeCreate=l?[].concat(l,c):[c]}return{exports:t,options:u}}({mixins:[],components:{},data:function(){return{version:"0.0.2",resBody:""}},created:function(){this.appUtil=h,this.isApp=h.isApp},mounted:function(){this.getArticleHtml()},methods:{getArticleHtml:function(){var t=this;window.setContent=function(e){t.resBody=e}},imgPreview:function(t){if(t.target){if(t.target.className&&t.target.className.match(/(jump-user)|(uf-avatar)|(uf-name)/)){var e=t.target.getAttribute("data-uid");return void(14===parseInt(t.target.getAttribute("data-idtype"))?this.appUtil.goCompDetail({cid:e},(function(){console.log("err")})):this.appUtil.appGoUserPage({uid:e},(function(){console.log("err")})))}window.bb=t.target;var n=document.getElementsByClassName("topic__main")[0].querySelectorAll("img"),o=-1;n.forEach((function(e,n){e===t.target&&(o=n)})),this.appUtil.bridge.postMessage({apiVer:"9.0.0",data:{index:o},name:"biz.clickMcnArticleImage",callback:function(){console.log(o)}}),console.log(o)}}}},(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"topic__main",domProps:{innerHTML:t._s(t.resBody)},on:{click:t.imgPreview}})])}),[],!1,null,null,null).exports;new(n())({render:function(t){return t(g)}}).$mount("#root")})();